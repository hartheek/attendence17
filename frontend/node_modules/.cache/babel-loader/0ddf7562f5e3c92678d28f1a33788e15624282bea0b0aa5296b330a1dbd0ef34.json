{"ast":null,"code":"var util = require('util');\nvar AbstractGeocoder = require('./abstractgeocoder');\n\n/**\n * Constructor\n * @param <object> httpAdapter Http Adapter\n * @param <object> options     Options (language, clientId, apiKey)\n */\nvar VirtualEarthGeocoder = function VirtualEarthGeocoder(httpAdapter, options) {\n  VirtualEarthGeocoder.super_.call(this, httpAdapter, options);\n  if (!this.options.apiKey || this.options.apiKey == 'undefined') {\n    throw new Error('You must specify an apiKey');\n  }\n};\nutil.inherits(VirtualEarthGeocoder, AbstractGeocoder);\n\n// TomTom geocoding API endpoint\nVirtualEarthGeocoder.prototype._endpoint = 'https://dev.virtualearth.net/REST/v1/Locations';\n\n/**\n* Geocode\n* @param <string>   value    Value to geocode (Address)\n* @param <function> callback Callback method\n*/\nVirtualEarthGeocoder.prototype._geocode = function (value, callback) {\n  var _this = this;\n  var params = {\n    q: value,\n    key: this.options.apiKey\n  };\n  this.httpAdapter.get(this._endpoint, params, function (err, result) {\n    if (err) {\n      return callback(err);\n    } else {\n      var results = [];\n      for (var i = 0; i < result.resourceSets[0].resources.length; i++) {\n        results.push(_this._formatResult(result.resourceSets[0].resources[i]));\n      }\n      results.raw = result;\n      callback(false, results);\n    }\n  });\n};\n\n/**\n* Reverse geocoding\n* @param {lat:<number>, lon:<number>}  lat: Latitude, lon: Longitude\n* @param <function> callback Callback method\n*/\nVirtualEarthGeocoder.prototype._reverse = function (value, callback) {\n  var _this = this;\n  var params = {\n    key: this.options.apiKey\n  };\n  var endpoint = this._endpoint + '/' + value.lat + ',' + value.lon;\n  this.httpAdapter.get(endpoint, params, function (err, result) {\n    if (err) {\n      return callback(err);\n    } else {\n      var results = [];\n      for (var i = 0; i < result.resourceSets[0].resources.length; i++) {\n        results.push(_this._formatResult(result.resourceSets[0].resources[i]));\n      }\n      results.raw = result;\n      callback(false, results);\n    }\n  });\n};\nVirtualEarthGeocoder.prototype._formatResult = function (result) {\n  return {\n    'latitude': result.point.coordinates[0],\n    'longitude': result.point.coordinates[1],\n    'country': result.address.countryRegion,\n    'city': result.address.locality,\n    'state': result.address.adminDistrict,\n    'zipcode': result.address.postalCode,\n    'streetName': result.address.addressLine,\n    'formattedAddress': result.address.formattedAddress\n  };\n};\nmodule.exports = VirtualEarthGeocoder;","map":{"version":3,"names":["util","require","AbstractGeocoder","VirtualEarthGeocoder","httpAdapter","options","super_","call","apiKey","Error","inherits","prototype","_endpoint","_geocode","value","callback","_this","params","q","key","get","err","result","results","i","resourceSets","resources","length","push","_formatResult","raw","_reverse","endpoint","lat","lon","point","coordinates","address","countryRegion","locality","adminDistrict","postalCode","addressLine","formattedAddress","module","exports"],"sources":["/home/pratheek/Desktop/Attendance/frontend/node_modules/node-geocoder/lib/geocoder/virtualearth.js"],"sourcesContent":["var util = require('util');\nvar AbstractGeocoder = require('./abstractgeocoder');\n\n/**\n * Constructor\n * @param <object> httpAdapter Http Adapter\n * @param <object> options     Options (language, clientId, apiKey)\n */\nvar VirtualEarthGeocoder = function VirtualEarthGeocoder(httpAdapter, options) {\n\n  VirtualEarthGeocoder.super_.call(this, httpAdapter, options);\n\n  if (!this.options.apiKey || this.options.apiKey == 'undefined') {\n    throw new Error('You must specify an apiKey');\n  }\n};\n\nutil.inherits(VirtualEarthGeocoder, AbstractGeocoder);\n\n// TomTom geocoding API endpoint\nVirtualEarthGeocoder.prototype._endpoint = 'https://dev.virtualearth.net/REST/v1/Locations';\n\n/**\n* Geocode\n* @param <string>   value    Value to geocode (Address)\n* @param <function> callback Callback method\n*/\nVirtualEarthGeocoder.prototype._geocode = function(value, callback) {\n\n  var _this = this;\n\n  var params = {\n    q : value,\n    key   : this.options.apiKey\n  };\n\n  this.httpAdapter.get(this._endpoint, params, function(err, result) {\n    if (err) {\n      return callback(err);\n    } else {\n      var results = [];\n\n      for(var i = 0; i < result.resourceSets[0].resources.length; i++) {\n          results.push(_this._formatResult(result.resourceSets[0].resources[i]));\n      }\n\n      results.raw = result;\n      callback(false, results);\n    }\n  });\n};\n\n/**\n* Reverse geocoding\n* @param {lat:<number>, lon:<number>}  lat: Latitude, lon: Longitude\n* @param <function> callback Callback method\n*/\nVirtualEarthGeocoder.prototype._reverse = function(value, callback) {\n\n  var _this = this;\n\n  var params = {\n    key: this.options.apiKey\n  };\n\n  var endpoint = this._endpoint + '/' + value.lat + ',' + value.lon;\n\n  this.httpAdapter.get(endpoint, params, function(err, result) {\n    if (err) {\n      return callback(err);\n    } else {\n      var results = [];\n\n      for(var i = 0; i < result.resourceSets[0].resources.length; i++) {\n          results.push(_this._formatResult(result.resourceSets[0].resources[i]));\n      }\n\n      results.raw = result;\n      callback(false, results);\n    }\n  });\n}\n\nVirtualEarthGeocoder.prototype._formatResult = function(result) {\n  return {\n    'latitude' : result.point.coordinates[0],\n    'longitude' : result.point.coordinates[1],\n    'country' : result.address.countryRegion,\n    'city' : result.address.locality,\n    'state' : result.address.adminDistrict,\n    'zipcode' : result.address.postalCode,\n    'streetName': result.address.addressLine,\n    'formattedAddress': result.address.formattedAddress\n  };\n};\n\nmodule.exports = VirtualEarthGeocoder;\n"],"mappings":"AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;AAC1B,IAAIC,gBAAgB,GAAGD,OAAO,CAAC,oBAAoB,CAAC;;AAEpD;AACA;AACA;AACA;AACA;AACA,IAAIE,oBAAoB,GAAG,SAASA,oBAAoBA,CAACC,WAAW,EAAEC,OAAO,EAAE;EAE7EF,oBAAoB,CAACG,MAAM,CAACC,IAAI,CAAC,IAAI,EAAEH,WAAW,EAAEC,OAAO,CAAC;EAE5D,IAAI,CAAC,IAAI,CAACA,OAAO,CAACG,MAAM,IAAI,IAAI,CAACH,OAAO,CAACG,MAAM,IAAI,WAAW,EAAE;IAC9D,MAAM,IAAIC,KAAK,CAAC,4BAA4B,CAAC;EAC/C;AACF,CAAC;AAEDT,IAAI,CAACU,QAAQ,CAACP,oBAAoB,EAAED,gBAAgB,CAAC;;AAErD;AACAC,oBAAoB,CAACQ,SAAS,CAACC,SAAS,GAAG,gDAAgD;;AAE3F;AACA;AACA;AACA;AACA;AACAT,oBAAoB,CAACQ,SAAS,CAACE,QAAQ,GAAG,UAASC,KAAK,EAAEC,QAAQ,EAAE;EAElE,IAAIC,KAAK,GAAG,IAAI;EAEhB,IAAIC,MAAM,GAAG;IACXC,CAAC,EAAGJ,KAAK;IACTK,GAAG,EAAK,IAAI,CAACd,OAAO,CAACG;EACvB,CAAC;EAED,IAAI,CAACJ,WAAW,CAACgB,GAAG,CAAC,IAAI,CAACR,SAAS,EAAEK,MAAM,EAAE,UAASI,GAAG,EAAEC,MAAM,EAAE;IACjE,IAAID,GAAG,EAAE;MACP,OAAON,QAAQ,CAACM,GAAG,CAAC;IACtB,CAAC,MAAM;MACL,IAAIE,OAAO,GAAG,EAAE;MAEhB,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,CAACG,YAAY,CAAC,CAAC,CAAC,CAACC,SAAS,CAACC,MAAM,EAAEH,CAAC,EAAE,EAAE;QAC7DD,OAAO,CAACK,IAAI,CAACZ,KAAK,CAACa,aAAa,CAACP,MAAM,CAACG,YAAY,CAAC,CAAC,CAAC,CAACC,SAAS,CAACF,CAAC,CAAC,CAAC,CAAC;MAC1E;MAEAD,OAAO,CAACO,GAAG,GAAGR,MAAM;MACpBP,QAAQ,CAAC,KAAK,EAAEQ,OAAO,CAAC;IAC1B;EACF,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACApB,oBAAoB,CAACQ,SAAS,CAACoB,QAAQ,GAAG,UAASjB,KAAK,EAAEC,QAAQ,EAAE;EAElE,IAAIC,KAAK,GAAG,IAAI;EAEhB,IAAIC,MAAM,GAAG;IACXE,GAAG,EAAE,IAAI,CAACd,OAAO,CAACG;EACpB,CAAC;EAED,IAAIwB,QAAQ,GAAG,IAAI,CAACpB,SAAS,GAAG,GAAG,GAAGE,KAAK,CAACmB,GAAG,GAAG,GAAG,GAAGnB,KAAK,CAACoB,GAAG;EAEjE,IAAI,CAAC9B,WAAW,CAACgB,GAAG,CAACY,QAAQ,EAAEf,MAAM,EAAE,UAASI,GAAG,EAAEC,MAAM,EAAE;IAC3D,IAAID,GAAG,EAAE;MACP,OAAON,QAAQ,CAACM,GAAG,CAAC;IACtB,CAAC,MAAM;MACL,IAAIE,OAAO,GAAG,EAAE;MAEhB,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,CAACG,YAAY,CAAC,CAAC,CAAC,CAACC,SAAS,CAACC,MAAM,EAAEH,CAAC,EAAE,EAAE;QAC7DD,OAAO,CAACK,IAAI,CAACZ,KAAK,CAACa,aAAa,CAACP,MAAM,CAACG,YAAY,CAAC,CAAC,CAAC,CAACC,SAAS,CAACF,CAAC,CAAC,CAAC,CAAC;MAC1E;MAEAD,OAAO,CAACO,GAAG,GAAGR,MAAM;MACpBP,QAAQ,CAAC,KAAK,EAAEQ,OAAO,CAAC;IAC1B;EACF,CAAC,CAAC;AACJ,CAAC;AAEDpB,oBAAoB,CAACQ,SAAS,CAACkB,aAAa,GAAG,UAASP,MAAM,EAAE;EAC9D,OAAO;IACL,UAAU,EAAGA,MAAM,CAACa,KAAK,CAACC,WAAW,CAAC,CAAC,CAAC;IACxC,WAAW,EAAGd,MAAM,CAACa,KAAK,CAACC,WAAW,CAAC,CAAC,CAAC;IACzC,SAAS,EAAGd,MAAM,CAACe,OAAO,CAACC,aAAa;IACxC,MAAM,EAAGhB,MAAM,CAACe,OAAO,CAACE,QAAQ;IAChC,OAAO,EAAGjB,MAAM,CAACe,OAAO,CAACG,aAAa;IACtC,SAAS,EAAGlB,MAAM,CAACe,OAAO,CAACI,UAAU;IACrC,YAAY,EAAEnB,MAAM,CAACe,OAAO,CAACK,WAAW;IACxC,kBAAkB,EAAEpB,MAAM,CAACe,OAAO,CAACM;EACrC,CAAC;AACH,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAG1C,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}