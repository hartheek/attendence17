{"ast":null,"code":"'use strict';\n\nconst HttpError = require('../error/httperror.js');\nconst nodeFetch = require('node-fetch');\nconst BPromise = require('bluebird');\nclass FetchAdapter {\n  constructor(options = {}) {\n    this.fetch = options.fetch || nodeFetch;\n    this.options = {\n      ...options\n    };\n    delete this.options.fetch;\n  }\n  supportsHttps() {\n    return true;\n  }\n  get(url, params, callback, fullResponse = false) {\n    var options = {\n      headers: {\n        'user-agent': 'Mozilla/5.0 (X11; Linux i586; rv:31.0) Gecko/20100101 Firefox/31.0',\n        'accept': 'application/json;q=0.9, */*;q=0.1'\n      }\n    };\n    if (this.options) {\n      for (var k in this.options) {\n        var v = this.options[k];\n        if (!v) {\n          continue;\n        }\n        options[k] = v;\n      }\n    }\n    return BPromise.resolve().then(async () => {\n      const queryString = new URLSearchParams(params);\n      if (queryString.toString()) {\n        url += `?${queryString.toString()}`;\n      }\n      const res = await this.fetch(url, options);\n      if (fullResponse) {\n        return res;\n      }\n      try {\n        return await res.json();\n      } catch (e) {\n        throw new HttpError(await res.text(), {\n          code: res.statusCode\n        });\n      }\n    }).catch(function (error) {\n      if (error instanceof HttpError) {\n        throw error;\n      }\n      const _error = error.cause ? error.cause : error;\n      throw new HttpError(_error.message, {\n        code: _error.code\n      });\n    }).asCallback(callback);\n  }\n  post(url, params, options, callback) {\n    options.method = 'POST';\n    options.headers = options.headers || {};\n    options.headers['user-agent'] = 'Mozilla/5.0 (X11; Linux i586; rv:31.0) Gecko/20100101 Firefox/31.0';\n    if (this.options) {\n      for (var k in this.options) {\n        var v = this.options[k];\n        if (!v) {\n          continue;\n        }\n        options[k] = v;\n      }\n    }\n    return BPromise.resolve().then(async () => {\n      const queryString = new URLSearchParams(params);\n      if (queryString.toString()) {\n        url += `?${queryString.toString()}`;\n      }\n      return await this.fetch(url, options);\n    }).catch(function (error) {\n      if (error instanceof HttpError) {\n        throw error;\n      }\n      const _error = error.cause ? error.cause : error;\n      throw new HttpError(_error.message, {\n        code: _error.code\n      });\n    }).asCallback(callback);\n  }\n}\nmodule.exports = FetchAdapter;","map":{"version":3,"names":["HttpError","require","nodeFetch","BPromise","FetchAdapter","constructor","options","fetch","supportsHttps","get","url","params","callback","fullResponse","headers","k","v","resolve","then","queryString","URLSearchParams","toString","res","json","e","text","code","statusCode","catch","error","_error","cause","message","asCallback","post","method","module","exports"],"sources":["/home/pratheek/Desktop/Attendance/frontend/node_modules/node-geocoder/lib/httpadapter/fetchadapter.js"],"sourcesContent":["'use strict';\n\nconst HttpError = require('../error/httperror.js');\nconst nodeFetch = require('node-fetch');\nconst BPromise = require('bluebird');\n\nclass FetchAdapter {\n  constructor(options = {}) {\n    this.fetch = options.fetch || nodeFetch;\n    this.options = { ...options };\n    delete this.options.fetch;\n  }\n\n  supportsHttps() {\n    return true;\n  }\n\n  get(url, params, callback, fullResponse = false) {\n    var options = {\n      headers: {\n        'user-agent': 'Mozilla/5.0 (X11; Linux i586; rv:31.0) Gecko/20100101 Firefox/31.0',\n        'accept': 'application/json;q=0.9, */*;q=0.1'\n      }\n    };\n\n    if (this.options) {\n      for (var k in this.options) {\n        var v = this.options[k];\n        if (!v) {\n          continue;\n        }\n        options[k] = v;\n      }\n    }\n    return BPromise.resolve()\n      .then(async () => {\n        const queryString = new URLSearchParams(params);\n        if (queryString.toString()) {\n          url += `?${queryString.toString()}`;\n        }\n        const res = await this.fetch(url, options);\n        if (fullResponse) {\n          return res;\n        }\n        try {\n          return await res.json();\n        } catch (e) {\n          throw new HttpError(await res.text(), {\n            code: res.statusCode\n          });\n        }\n      })\n      .catch(function (error) {\n        if (error instanceof HttpError) {\n          throw error;\n        }\n        const _error = error.cause ? error.cause : error;\n        throw new HttpError(_error.message, {\n          code: _error.code\n        });\n      })\n      .asCallback(callback);\n  }\n\n  post(url, params, options, callback) {\n    options.method = 'POST';\n    options.headers = options.headers || {};\n    options.headers['user-agent'] = 'Mozilla/5.0 (X11; Linux i586; rv:31.0) Gecko/20100101 Firefox/31.0';\n    if (this.options) {\n      for (var k in this.options) {\n        var v = this.options[k];\n        if (!v) {\n          continue;\n        }\n        options[k] = v;\n      }\n    }\n    return BPromise.resolve()\n      .then(async () => {\n        const queryString = new URLSearchParams(params);\n        if (queryString.toString()) {\n          url += `?${queryString.toString()}`;\n        }\n        return await this.fetch(\n          url,\n          options\n        );\n      })\n      .catch(function(error) {\n        if (error instanceof HttpError) {\n          throw error;\n        }\n        const _error = error.cause ? error.cause : error;\n        throw new HttpError(_error.message, {\n          code: _error.code\n        });\n      })\n      .asCallback(callback);\n  }\n}\n\nmodule.exports = FetchAdapter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}